	Клиент v0.9.3.49 для PBEM Атлантис

	Основные возможности:
- хранение информации обо всех загруженных ходах,
- виртуальная отработка ходов,
- симулятор битв,
- поддержка плагинов,
- поддержка нескольких игр.

	Общая информация.
   Игра создается командой меню "New game" (в диалоге
надо ввести имя директории игры и поставить галку на
"Create new database").
   Список всех активных игр содержится в файле Atlaclient.ini
в секции [games].
   При создании новой игры создается директория с ее именем
и поддиректориями orders, reports и store.
   Для каждой игры создается своя база данных о предметах, умениях
и т.д., которая хранится в текстовых файлах в директории игры.
Их можно редактировать во встроенном редакторе или напрямую.
   Отчеты загружаются командой "Load report(s)", которая поддерживает
загрузку нескольких отчетов (файлы отчетов загружаются в алфавитном
порядк). При успешной загрузке последнего отчета выдается событие
"Report processed". Клиент также понимает отчеты, состоящие только
из описания регионов, при этом они могут загружаться в нулевой турн.
   В каждой игре может присутствовать несколько "локальных" фракций,
т.е. фракций, находящихся под контролем игрока, они создаются автоматически
при загрузке отчета для данной фракции. В клиенте пока присутствует
минимальный интерфейс для работы с фракциями.
   Приказы загружаются командой "Load order(s)". Первой строкой приказа
должна быть #atlantis ... Внимание: в приказах нет информации о номере хода,
поэтому они грузятся в текущий ход.
   Также отчеты и приказы можно загружать из буфера обмена командой
"Load From Clipboard": если в буфере обмена находились приказы
(первый символ #), то происходит их загрузка, если же в буфере
находился отчет, то при успешной загрузке пользователю предлагается
сохранить его в директорию имя_игры\Store.
   Приказы записываются командой "Save orders" в поддиректорию Orders игры
сразу для всех локальных фракций, при этом приказ первой фракции копируется
в буфер обмена (если включена опция Options\Copy to Clipboard on Save Orders).
   Команда "Save reports" позволяет сохранить отчеты в директорию
имя_игры\Reports. Внимание: отчет сохраняется по данным клиента и может
отличаться от исходного.
   Команда "Save map" позволяет сохранить карту в директорию имя_игры\Reports,
как набор описаний регионов. При этом в карту могут входить все регионы или
только видимые в текущем ходу.
   Внимание: в отличие от других клиентов и картограферов в данном не
два уровня, а три (нексус, поверхность и подземелье) и изначально
карта показывает нексус.
 
	Интерфейс.
   Четыре окна: Карта, Дерево, Информация и События.
Так же имеется панель инструментов с:
- кнопкой показа окна событий, 
- кнопкой просчета хода для всех регионов,
- кнопкой выполнения автоприказов,
- полем поиска юниты (номер новой юниты - отрицательное число),
- полем ввода номера хода (для быстрого перехода).
- кнопками смены хода (предыдущий/следующий).
- кнопками выбора режима карты (карта/продукция/фильтр).
- кнопками смены уровня карты (нексус/поверхность/подземелье).
У части кнопок есть контекстные меню для быстрого доступа к настройкам.

  В окне карты, естественно, изображается известная карта.
Для каждого региона в режиме карты показывается:
- присутствие локальных фракций (показывается галкой),
  собирание в этом регионе налогов (галка превращается в треугольник) и
  наличие юнитов с торговыми приказами (добавляется горизонтальная
  черта посередине галки).
- тип и название города (кружком различной формы)
- наличие зданий (башня), кораблей, туннелей (shaft), а также
логовов монстров (череп)
В режиме продукции показывается список предметов, которые можно
производить в данном регионе, этот режим настраивается пунктом
меню "View\Products mode settings".
В режиме фильтров показываются результаты заданных пользователем
выражений в виде шести треугольников. Подробнее смотри в разделе
"Фильтр карты".
При клике левой кнопкой происходит выбор региона,
при клике правой - центрирование карты.

  В Дереве показывается:
- список локальных фракций, с произошедшими ошибками, битвами, событиями
и приказами, относящимися ко всей фракции (пока не реализовано),
- текущий регион со всеми объектами и юнитами.
При клике левой кнопкой происходит показ информации о выделенном элементе,
при правом клике - появляется контекстное меню.
  Дерево является сортированным: сначала показываются безымянные новые юниты,
затем юниты локальных фракций, потом остальные, и в конце - строения.

  В окне Информации показывается информация о текущем элементе.
При двойном клике происходит переход на выбранный элемент
(при двойном клике на первой строке обычно происходит переход на
базовый элемент), при правом - появляется контекстное меню.
- для фракции: информация о ней (+ количество таксованных регионов
на следующий ход (Внимание: верно только после запуска хода для всех
регионов и не учитывает Pillage), а также количество регионов с торговыми
приказами). Можно перейти на ошибки, битвы и события.
- для ошибок, битв и событий: текст из отчета.
  Имеется возможность удалить как отдельную строчку, так и весь список.
Битвы можно так же загружать в симулятор битв.
- для региона: информация о регионе (непустые строения предваряются
двумя плюсами, юниты с неизвестной фракцией - двумя минусами).
  Для каждого региона можно выставить максимальный уровень налогов,
количество рабочих, заработок при Entertainment'e (для просчета),
и перейти в последний ход со свежей информацией о нем,
также можно задать описание региона (оно выводится перед типом местности
и передается в следующие ходы) и Информацию Пользователя в виде строки 
(ее можно проверить функцией PresentInUserInfo в Wedges, в следующий ход
передается только часть строки до первого символа '-').
- для здания: информация и список юнитов, туннели можно связать между собой.
- для юнита: предметы, умения, боевое заклинание, список возможных умений
для обучения магии, описание, приказы, состояние юнита в конце хода.

	Команды меню.
Analyze/Advanced products - проверяет регионы на наличие "продвинутых"
предметов. Например, в регион, где может быть митрил (горы), зашел шахтер
3-го уровня (он может его добывать) и ничего не нашел, клиент добавляет в
регион, что митрила в нем точно нет, что показывается нулевым производством.
На карте в режиме продукции отсуствие предмета показывается перечеркнутым
названием.

Analyze/Battle Simulator - запускает симулятор битв.
 Ограничения симулятора: нет иллюзорных предметов, MAGEONLY не действует,
нет лечения, нет зданий, нет заклинаний с эффектами (страх и т.п.)
 Для магов в отчет выводится боевое заклинание и его уровень.

Analyze/Products - показывает список регионов, в которых можно добывать
предметы и статистику по ним. В список добавляются регионы, в которых
можно добывать предмет и игрок стоит на охране, а также в которых
присутствуют специалисты по добыче предмета.
Примечание: для исключения региона из списка ему нужно задать в UserInfo
prodignore, для включения - produse.

Settings/Options - настройки клиента.
  Закладка Colors позволяет задать цвета карты.
  Закладка Options:
 при выключенном Show closed Events window закрытое окно сообщений
не будет показываться при появлении нового сообщения,
 при выключенном Run Orders on change не будут выполнятся приказы
при смене региона.
 Town name limit позволяет обрезать имя города на карте.
  Закладка Events позволяет отключать показ некоторых сообщений.
  Закладки Server и ServerMail позволяют настроить клиент на сервер.

	Плагины.
Плагины - это Dll специального формата, которые должны
находиться в поддиректориях первого уровня директории
%atlaclient%\plugins.
Если директория начинается с -, то плагин игнорируется.
Плагин может добавлять пункты в меню Plugins и Plugins\Configure,
а также новые функции в Wedges.
Описания плагинов для разработчиков
находится в plugdoc.html в отдельном архиве.

	Приказы.
   Почти у всех приказов есть два флага:
- повторяющийся (repeating) - аналог '@' перед приказом
- закомментированный (commented) - аналог ';' после '@'

   В клиенте есть 5 новых типов приказов:
- local description - локальное описание, используется как имя юнита
для юнитов с именем "Unit", может быть преобразовано в комментарий.
- commentary - комментарий, может быть преобразован в локальное описание
и приказ пользователя.
   Внимание: при загрузке приказа игнорируются неповторяющиеся
закомментированные приказы, поэтому неповторяющиеся комментарии
не считываются.
- custom order -  приказ пользователя, приказ, не обрабатываемый
клиентом, может быть преобразован в комментарий и обрабатываемый приказ.
- автоприказы (начинаются с "@;!"), обрабатываются только клиентом.
Пример: приказ autoGIVE.
- приказы клиента, служат для упрощения отдачи приказов.
Пример: приказ Receive.

   Приказы можно давать не только своим юнитам, но и чужим,
при этом они используются только для виртуального выполнения.
Приказы STUDY и FORGET для чужих юнит срабатывают сразу.
Повторяющиеся приказы чужим юнитам и их умения автоматически
переносятся в следующий турн.

   Клиент понимает следующие приказы:
- FORM
   Особенностью реализации данного приказа является то, что юнит 
всегда создается последним юнитом в данном объекте, поэтому флаги
нового юнита могут быть изменены. Во избежание этого при создании
юнита в клиенте (команда "Form new unit") добавляются команды
установки всех флагов. Также в регионе не может быть нескольких
новых юнитов с одинаковыми номерами, даже принадлежащих разным
фракциям.
   Новый юнит можно удалить командой "Delete new unit".
- AUTOTAX, AVOID, BEHIND, GUARD, HOLD, NOAID, NOCROSS, NOSPOILS
   При чтении из приказов понимаются только значения флагов 1/0
и true/false. Приказы NOCROSS и NOSPOILS работают только после их
включения в настройках на сервер.

- REVEAL, CONSUME, SPOILS
Приказ SPOILS работает только после его включения в настройках на сервер.
- LEAVE, ENTER
- MOVE, SAIL, ADVANCE
  Приказ SAIL обрабатывается частично (не учитывается изменение положения
юнитов командами LEAVE/ENTER).
- DESTROY, NAME, DESCRIBE
   Приказы понимаются, но не обрабатываются.
- ENTERTAIN, WORK, COMBAT, FORGET, GIVE, SELL, BUY, PRODUCE, CLAIM, CAST
Вариант приказа GIVE ALL ... EXCEPT работает только после его включения
в настройках на сервер.
- BUILD
   Проверяется умение строителя и наличие материала, изменяется
информация для здания.
- STUDY, TEACH, FORGET
   Клиент проверяет возможность обучения данному умению.
- TAX, PILLAGE
   Считается, что таксовать могут все юниты умеющие "COMBAT"
или имеющие оружие и умеющие его использовать. Также проверяется
запрещение таксовать охраной.
   Особенность: при AUTOTAX 1 приказ неповторяющийся TAX показывается
в клиенте, но не записывается в приказы.
- CLAIM, WITHDRAW.
  Производится подсчет суммы взятого безнала для региона и проверка
перерасхода при нажатии RunOrders.

   Автоприказы:
- autoGIVE: Позволяет передавать какому-либо юниту или все предметы
определенного типа, или определенное число предметов, или все предметы,
кроме какого-либо числа. Целевой юнит задается или началом имени, или
подстрокой имени, или и тем и другим одновременно. Под именем в данном
случае понимается имя_юниты+локальное_описание+(номер).
- NOP: позволяет убрать сообщение о том, что юнит ничего не делает.
- autoMOVE: Позволяет задавать юниту движение по маршруту.
Каждый этап задается отдельной строчкой и описывается началом этапа
и списком последующих перемещений. Этап, по которому двигается юнит,
назвается текущим, по его выполнении текущим становится следующий
подходящий (по начальным координатам) этап.
  Примечание: при добавлении команды движения добавляется весь остаток
этапа без проверки на возможность его прохождения.
- autoWARNING: Позволяет проверить заданное условие, и при его истинности
выдать заданное сообщение в Events. Выражения и сообщения можно сохранять
в "Блокноте".

   Приказы клиента:
- RECEIVE
    Позволяет взять предмет у другого юнита. Реализуется
отдачей приказа give этому юниту.
- Set Flags
    Позволяет выставить юниту все флаги сразу. Реализуется
отдачей приказов установки отдельных флагов.
- Withdraw (client)
    Позволяет дать юниту любое кол-во любых предметов (для
имитации передачи от другой фракции и захвата трофеев в битве).

        Фильтр карты.
   Режим настраивается пунктом меню "View\Wedge mode settings".
Можно задать до 6 выражений, логический результат которых
будет показан в регионе треугольником соответствующего цвета.
   Также можно сохранять выражения в "Блокнот" и группировать 
в нем до 6 выражений, добавляя перед ними строку с ":" и
названием группы.

   В выражениях используются следующие типы данных:
- int - целое число
- ints - набор целых чисел, пишется в фигурных скобках через запятую
- string - строка, пишется в двойных кавычках.
   Определены следующие операции:
- == - равенство
- != - неравенство
- > и < - больше и меньше
- >= и <= - не меньше и не больше
- && - логическое И
- || - логическое ИЛИ
- ! - логическое НЕ
- ( и ) - скобки для изменения приоритета операций.
- { и } - задание набора чисел, числа перечисляются через запятую.
- A?B:C - условная операция. Если значение А равно 0, возвращается
значение С, иначе B.
  для целых чисел определены операции +-*/

   Набор чисел считается равным числу, когда это число содержится в нем.
   Набор чисел равен другому набору, когда хотя бы одно число из
второго набора содержится в первом наборе.
   Набор чисел больше другого, когда все числа второго набора содержатся в нем.
   Строки можно сравнивать только на равенство.

   Приоритет операций:
- !, -, (), {}
- *, /
- +, -
- ==, !=, >, <, >=, <=
- &&
- ||
- ?:

   Определены следующие переменные:
- presentfaction - набор номеров фракций, присутствующих в этом регионе.
   Юниты с неопределенной фракцией приписываются фракции с номером 0.
- guardfaction - набор номеров фракций, стоящих на охране в регионе.
- localfaction - набор номеров локальных фракций.
- localobservation - число, соответствующее уровню observation локальных
юнитов фракций в этом регионе.
- regioninfoage - возраст информации о регионе (-1 для неразведанного).
- gatenumber - номер ворот (0 - если нет).
- consumetype - 0 - нет юнитов с consume, 1 - есть юниты с consume unit,
2 - есть юниты с consume faction, 3 - есть юниты с consume unit и с
consume faction.
- level - текущий уровень заклинания (используется только в заклинаниях).
- population - население региона (в человеках)
- money - максимальный объем таксы
- wages - доход от Work
- maxwages - максимальный суммарный доход от Work
- enterntain - максимальный суммарный доход от Entertain
- mens - (только для autoWARNING) возвращает кол-во людей у юнита на
начало хода.
- turnnumber - номер текущего хода.
- xloc, yloc, zloc - координаты региона.
- curxloc, curyloc, curzloc - координаты выделенного региона.
- hostilefaction, unfriendlyfaction, neutralfaction, friendlyfaction,
allyfaction - набор номеров фракций, к которым у текущей фракции стоят
соответствующие отношения.
- presentunits - набор номеров юнитов, присутствующих в этом регионе.
- unitfaction - (только для autoWARNING) номер фракции юнита на начало хода.
- objectweight, objectcapacity - текущая и максимальная вместимость кораблей.

   Определены следующие функции:
- int productamount(string) - возвращает возможное количество производимой
продукции заданного типа в этом регионе
- int presentproduct(string) - возвращает 1 если в списке производимой
продукции в этом регионе есть заданный тип
- int canpresentadvproduct(string) - возвращает 1 если в регионе
может присутствовать улучшеная продукция заданного типа
- int saledamount(string) - возвращает макс. количество продаваемых предметов
- int saledprice(string) - возвращает цену продаваемых предметов
- int wantedamount(string) - возвращает макс. количество покупаемых предметов
- int wantedprice(string) - возвращает цену покупаемых предметов
- int presentitem(string) - возвращает количество предметов данного типа
в регионе.
- int presentlocalitem(string) - возвращает количество предметов данного типа
в регионе, находящихся у локальных юнитов.
- int presentnonlocalitem(string) - возвращает количество предметов данного типа
в регионе, находящихся у нелокальных юнитов.
- int RND(int) - возвращает случайное число в диапазоне [0;int)
- int attemptedwages (ints factions) - возвращает кол-во денег, которые фракции
пытаются заработать (Work)
- int attemptedtaxes (ints factions) - возвращает кол-во денег, которые фракции
пытаются затаксовать (без Pillage).
- int attemptedentertains (ints factions) - возвращает кол-во денег, которые фракции
пытаются заработать, развлекая народ (Entertain).
- int hastraders(ints factions) - возвращает 1, если в регионе есть юниты
указанных фракций с торговыми приказами.
- int PresentInUserInfo(string) - возвращает 1, если строка содержится в
информации пользователя для региона.
- int PresentInRegionDescription(string) - возвращает 1, если строка
содержится в описании региона.
- int skilllevel(string) - (только для autoWARNING) возвращает уровень умения
у юнита на начало хода.
- int skilldays(string) - (только для autoWARNING) возвращает кол-во дней умения
у юнита на начало хода.
- int itemcount(string) - (только для autoWARNING) возвращает кол-во предметов
данного типа у юнита на начало хода.
- int UnitsWithSkill(string skill,int level) - возвращает кол-во человек, владеющих
умением с уровнем больше или равным заданному (на начало хода).
- int distance(int xloc,int yloc,int zloc) - возвращает расстояние от региона
до имеющего указанные координаты.
- int hascastorder(string) - возвращает 1, если у юнита есть активный приказ
CAST для заданного умения. Если строка пустая, то проверяется наличие
CAST для любого умения.
  Примечание: функции attempted..., hastraders могут возвращать неверное
значение, если не выполнена команда RunOrders.
- int flagvalue(string) - возвращает значение заданного флага на конец хода.
Для reveal и consume: 0-none, 1-unit, 2-faction.
Для spoils: 0-none, 1-fly, 2-ride, 3-walk, 4-all.
- int PresentObject(string) - возвращает кол-во объектов данного типа в регионе.

        Примечания.
   Особенность иллюзорных предметов: первая буква сокращения переводится
на русский язык.

   Желаю успехов в мирах Атлантиса.

   Евгений Пашкин (eap&newmail.ru)


ЗЫ. Маленькие хитрости:
а) Для установки новых настроек просто перепишите их в директорию
игры, затем настройте weatherregions на размер карты.
б) Для юнита c локальным описанием "empty" нет сообщений
"Error: no monthlong orders by ..." и "Error: TAX: ... cannot tax".
в) Дружественной или уничтожаемой в этот ход охране можно отдать
@guard 0.
г) Рисунки в директориях images и images\terrain загружаются клиентом
и их можно редактировать, не меняя их размер. Понимаются 8-битные
BMP с стандартной палитрой и 24-битные. За цвет фона принимается цвет
левой нижней точки. Если в images\terrain отсутствует картинка
для типа местности, то на карте рисуется одноцветный шестиугольник
с цветом, указанным в terrain.txt.
д) Если в changes.txt написано, что изменился файл keyphrases.txt,
то обязательно установите новые настройки или скопируйте keyphrases.txt
из директории с клиентом до первого запуска новой версии.
е) Из окна событий можно перейти к юниту дважды кликнув на его номер.
ж) Информацию Пользователя для регионов можно использовать для установки
флага "Регион проверен или все юниты получили команды", для этого надо
в Wedges добавить выражение
presentfaction==localfaction&&PresentInUserInfo("Done")==0
и для проверенных регионов добавлять в информацию пользователя "-Done".
з) Для удаления фракции из перечня локальный откройте диалог View\Factions
и пометьте в нем для этой фракции Deleted. При загрузке отчета за
следующий ход эта фракция будет удаленя.

ЗЗЫ. Описание файлов настроек.
        armors.txt - брони
Первая строка имеет формат:
Ver номер_версии_файла
Каждая следующая строка имеет следующий формат:
"имя предмета"[,ARMORCLASS:класс][,USEINASS],From,ChanceSLASHING,
ChancePIERCING,ChanceCRUSHING,ChanceCLEAVING,ChanceARMORPIERCING,
ChanceENERGY,ChanceSPIRIT,ChanceWEATHER
  класс брони может принимать значения от 1 до 4 и означает, что данная
бронь может надеваться совместно с обычной (например, плащи, шлемы и т.п.)

        batitems.txt - боевые магические предметы
Каждая строка имеет следующий формат:
"имя предмета"[,MAGEONLY][,SPECIAL:"заклинание"][,SHIELD:тип_атаки],уровень
 тип_атаки описан в описании spells.txt

        direct.txt - описание направлений (лучше не трогать ;-).

        items.txt - предметы
Каждая строка имеет следующий формат:
"имя предмета","множ.число","сокращение"[,CANTGIVE]
[,"умение для производства",уровень[,"требуемый материал",кол-во
{:"доп. требуемый материал",кол-во}],трудоемкость,кол-во]
,вес{,тип_предмета},WALK,RIDE,FLY,SWIM
[,HELPPROD:[множитель][:]["предмет, помогающий производству данного"]]
[,HITCH:"предмет, который может тянуть данный (лошадь)"
:прибавка к весу ходьбы,прибавка к езде,к полету,к плаванию]
[,WITHDRAW:цена]
  где тип_предмета=(NORMAL,ADVANCED,TRADE,MAN,MONSTER,MAGIC,
    WEAPON,ARMOR,MOUNT,BATTLE,FOOD,DONTSHOWINCOMBAT,PRODNOTTRADEACTIVITY)
  максимальное число требуемых материалов - 5.

        itobjrep.txt - описания предметов и зданий
Каждая строка имеет следующий формат:
"название или сокращение предмета",тип,"описание"
  где тип: 0 - здание, 1 - предмет.

        keyphrases.txt
В этом файле содержатся ключевые строки, по которым клиент определяет
наличие информации в отчете. Нельзя менять порядок строк и их количество.

	mans.txt - рассы людей и их макс уровень умений.
Каждая строка имеет следующий формат:
"сокращение предмета",уровень_по_умолчанию{,"умение",уровень}

	monstrs.txt - монстры
Каждая строка имеет следующий формат:
"сокращение предмета",уровень_атаки,жизни,тактика,"имя группы",
["заклинание",уровень_заклинания,]
ЗащитаCOMBAT,ЗащитаENERGY,ЗащитаSPIRIT,ЗащитаWEATHER,ЗащитаRIDING,ЗащитаRANGED,
количество_атак_в_боевой_раунд[,BEHIND]
 для иллюзорных монстров зарезервировано сокращение "ILLU"

        mounts.txt - типы езды
Каждая строка имеет следующий формат:
"требуемое_умение",минимальный_бонус,максимальный_бонус,
максимальный_бонус_для_летающих_на_нелетной_территории
[:"боевое_заклинание",уровень]
{,"предметы"}

        objtype.txt - типы зданий
Каждая строка имеет следующий формат:
"имя здания",защита,вместимость
[,"предмет для постройки",кол-во[,"умение для постройки",уровень]]
,моряки,можно_ли_входить[,"предмет,производству которого помогает"]
[,BUILDNOTTRADEACTIVITY]
[,"ROAD":{список направлений через запятую}]
 если для строительства можно использовать лес или камень, то
предмет для постройки - "WOOD_OR_STONE".

        skillrep.txt - описания умений
Каждая строка имеет следующий формат:
"умение",уровень,"описание"

        skills.txt - умения
Каждая строка имеет следующий формат:
"умение","сокращение".цена_учебы{,тип_умения}
{,"требуемое умение",уровень}:S:сортировочный_индекс
 где тип_умения=(MAGIC,COMBAT,CAST,FOUNDATION),
требуемых умений может быть не больше трех.

	spells.txt - заклинания
Каждая строка имеет следующий формат:
"сокращение"{,описание}
 где описание может быть следующим:
ATTACK("формула числа попаданий",тип_атаки)	- атакующее боевое заклинание
SHIELD("формула уровня защиты",тип_атаки)	- защитное боевое заклинание
DEFENCE("формула уровня защиты",тип_атаки)	- персональная защита
CHECKGOODTARGET(список подходящих рас)		- проверка на тип солдата-жертвы
CHECKBADTARGET(список неподходящих рас)		- проверка на тип солдата-жертвы
CASTNOP						- пустое заклинание для CAST
CASTCREATE([MAXNUM:"макс. число предметов"]
[[,]PARAM:"требуемый параметр для CAST"]
[,]"предмет","кол-во"{,"материал","кол-во"})	- создает предмет из материала
						
 тип_атаки=(COMBAT,ENERGY,SPIRIT,WEATHER,RIDING,ALLATTACK)
 ALLATTACK не работает в SHIELD
 в формулах можно использовать переменную level
 CHECK может быть только один
 для CASTCREATE: если кол-во материала меньше 0, то это затраты на всю
партию, а не на отдельный предмет.


        terrain.txt - типы местности
Каждая строка имеет следующий формат:
"местность",затраты_при_движении[,OCEAN][,RIDING][,FLYING]
{,"добываемый продвинутый предмет"}:цвет_на_карте

	towntype.txt - типы городов.
"тип города","имя картинки"

        weapons.txt - оружие
Первая строка имеет формат:
Ver номер_версии_файла
Каждая следующая строка имеет следующий формат:
"имя предмета"[,требуемое_умение1[,требуемое_умение2]]
{,тип_оружия},numAttacks,класс_оружия,тип_атаки,
attackBonus,defenceBonus,mountBonus
 где тип_оружия=(NEEDSKILL,ALWAYSREADY,NODEFENSE,NOFOOT,NOMOUNT,SHORT,LONG,
RANGED,NOATTACKERSKILL,RIDINGBONUS,RIDINGBONUSDEFENSE)
класс_оружия=(SLASHING,PIERCING,CRUSHING,CLEAVING,ARMORPIERCING,ENERGY,
 SPIRIT,WEATHER)
тип_атаки описан в описании spells.txt

        weather.txt - типы погоды
Каждая строка имеет следующий формат:
"погода",множитель_для_затрат_при_движении,"описание в текущем месяце"
,"описание в следующем месяце"

        weatherregion.txt - погодные регионы
Каждая строка имеет следующий формат:
"имя погодного региона", уровень, x1,y1,x2,y2
[ {,"тип ненормальной погоды", список номеров месяцев (январь - 0) }]
 где {} - означает возможный повтор,
 x1,y1,x2,y2 - прямоугольник, в котором дейстует эта погода (включительно).
 имя_погодного_региона пока нигде не используется.

