v7:
+ weapon system
  objects(road) decay?
- NOEARTHQUAKE object flags
? SLOWSTUDY skill flags
  cast create item info
+ Item::hitchItem для Wagon+horse
+ items::battlereport

v8:
+  buy all , sell all, ?trade
  build help <unit>
  spell full info
  itemtype::mountspecial

> unit 15252
> @;script Buer ("")
> @;end Buer

link shaft to hex (not to shaft)

> еще одно дополнение к разговору у шафтах: иногда на противоположенной
> стороне они бывают заблокированными врагом :-), но в отчете указывается
> кто блокирует, и главное ГДЕ, в каком регионе, находидся выход из шафта.
> так вот, хотелось бы в меню линкования иметь возможность принудительной
> связи шафта с тем регионом.

!!!в Edit Enter добавить показ needs.
при поиске региона добавить возможность использовать сокращения уровней (u,du)
добавить возможность сортировки уровней (ex. аналогично умениям)
останавливать BSIM:analyze при закрытии клиента

+xxxx в bsim
+-produce: проверять endobj->endreg на возможность производства (нереально, так как выполнение идет в другом регионе)
+переделать приказ Edit (письмо Sergey A. Lizorkin 16.1.5 1:48)
+поменять memo в bsim

+периодически пропадают Alt-. и Alt-,

> А вообще хорошо бы просто иметь возможность отключать ЛЮБОЙ варнинг
> у любого юнита.
> Скажем если вылезает "Warning 24: unit (789) don't have enough materials" -
> поставить ему
> ;pragma 24 - и клиент на этот юнит ругаться не будет :)
> Как идея? А то задалбывает всегда прорываться сквозь тонны этих "не
> имеет материалов", "регион не открыт", "не могет таксовать" и т.п.

Плагин: письмо от 19.11.04.

+поправить FixAdvProd

?при наличии фракции в отчете, снимать для нее deleted

> Да и вообще, и особенно для МД было бы очень не вредно сделать
> что-то типа поиска корабля, в том числе и по старым ходам

> > Было не плохо иметь аналог Edit Orders (Ctrl-Enter) для региона т.е. при
> > нажатии Ctrl-Edit на регионе появлялось бы окно в котором можно
> > редактировать приказы всех юнитов в данном гексе. Пригодится при
> > создании скаутской сети и т.п. делах

> Нажимаю горячию клавишу и появляется окно, примерно вот такого вида:
> 
> атакующие                                               Защищающиеся
> ------------------------------------------------------------
> Номер|имя фракции|описание итомов  |  Сам лог битвы    |
> юнита|и номер    | и скилов у юнита|   как в репке     |...
> -----------------------------------|                   |
> 314  |Crоn (32)  | 1 лидер COMB5,  |                   |
>      |           | 1 Balrog, 5 imp |                   |
> ----------------------------------------------------------------
>  Сдесь статистика по всем юнитам и |                   |
>  вещам атакующих:                  | споилс            |
>  1 лидер, 1 balr, 5 imp            |                   |
> ----------------------------------------------------------------
> 
> 
> У "Защищающихся" все аналогично атакующим, разумеется в табличках
> возможность сортировки по фракции или сразу отсортировано по ним.
> Лог битвы без изменений что бы было видно ход боя. И разумеется везде
> возможность скролинга если перечень юнитов не вмещается на экран, т.е.
> у Атакующих в Логе и у Защищающихся.
    В варианте отдельного окна принимается, вместе с поиском фракций
у неизвестных. Правда сначала будет доступ только из дерева.


> В Дереве сделать возможным отключение показа фракций
> (для локальных\нелокальных) и флагов.

поиск юнита в предыдущих ходах.

> Настройку для бегства по хитам в BSIM.

> В битвах возможность посмотреть краткую статистику, без маг эффектов и
> состояний монстров.

?(уже есть)поправить загрузку ---;57-39 при отсутствии хода 39

>>1. Помимо CastOrder неплохо бы CombatSpell, благо приказ combat поддерживается.

> 7. Возможность сохранения карты не в файл, а в клипбоард (еще одна кнопочка в
> опциях сохранения).

> 10. Невыбор (пропуск) юнита функцией Next Local Unit, если у него будет
> какой-то спецавтоприказ (типа @;!ignore). Если такое уже есть прошу не пинать
> я нежно ткнуть носом ;)

?expr popup menu: добавить пункт для показа блокнота выражений
expr:группы предметов, presentorder.

pluginorder: monthlong или группы приказов

Wedge: BattleInRegion

Plugins+RegionList: очистка, удаление, добавление.

проверить исчезновение shortcuts

+удалять из памяти неиспользуемые ходы (хотя бы при импорте)
добавить в edit cast чтение списка параметров

-> А не надо определять. Просто когда галочка "только этот регион" убрана --
> добавлять споилс прямо из битв.
> Или ты имеешь ввиду когда на одной стороне несколько фракций?
> Ну хотя бы разницу между расчетным значением (с прошлого хода) и реальным.

> На некоторых игровых серверах приказ work выполняется по умолчанию.
> Т.е если нет других полномесячных приказов, например study, юнит
> работает. Можно ли сделать?

Unit.AddOrderWithType

+PE_CALCMOVEPOINTS(MoveType)

?PE_ORDERCHANGED

maint вне плагинов

army

+> Будет очень удобно, когда юнит - владелец объекта будет помечаться в
> списке юнитов, находящихся внутри. Например, примечанием - Owner -
> перед именем юнита.
    Попробую сделать. Только вот какого юнита так обзывать
(начального или конечного)?

ctrl+C в евентах

проверку на 180180 в skills

> Возможность повесить на горячую клавишу выбранный на карте регион.
> Нажать на эту клавишу, карта переезжает на место этой клавише
> соответствующее
    Запишу в ToDo.

> Как  на  счет  того, чтоб в таблице Units сделать возможным копировать
> содержимое ячеек и суммарной ячейки?
    Подумаю.

> > Если разрушить строение, клиент все равно продолжает его показывать.
> > То есть в отчете строения нет, а в клиенте есть. По крайней мере, так
> > происходит на Конквесте (с palace'ами и fort'ами)
> Даже не так: клиент продолжает отобпражать посторойки, если они сначала были, а
> потом их все разом снесли. Достаточно построить что-то новое или вплыть
> корабликом - и всё фиксится.

разобраться с illusion предметами

> для tax
> А так бы при наж. del - клиент спросил - "Do you wish to set flag autotax 0 вдобавок?" -

Могу сделать настраиваемую автоочистку только перед  run[auto]orders.
Так как, например, мне часто нужно видеть строки runautoorders при беге по регионам,

?столбец с приказами в View Units

столбец с формулой в View Units

проверка конфликтов в Order Shortcuts

> Как-нибудь на досуге сделай, пожалуйста, чтобы для перемещающихся
> юнитов выводилось не Warning: Unit ... needs ... silver for
> maintenance а другое сообщение, при чем не больше одного на регион, и
> чтобы его можно было отключить.
    Посмотрю, скорее всего только в смысле отключения,
так как номера голодающих нужно знать.

Shafts Links в отдельный список.

-?> 6. Об этом уже был разговор... Давно, когда таблица юнитов ещё только
> появилась... Было бы очень хорошо довесить на неё контекстную менюшку
> с приказами.... Всё-равно правая кнопка не задействована...
> А так приходится - сначала даблклик на таблице, потом переход в окно
> юнита, потом уже только правая кнопка и приказы... Неудобно!
    Можно.

> И ещё, почему бы не сделать сортировку events'ов по типам? Чтобы можно было
> сразу пролистнуть сообщения о том, кто сколько consume и collects in taxes?

показ разных типов движения разными цветами

> Добавить команды типа
> GIVE (XXX ) ALL TRADE
> и так далее.

>  Возвращать фокус юниту после отдачи приказа.
    Это можно.

turn\endturn

флаг отключения защиты повторного запуска

--добавить проверку на верность сервера

> Возможно, это уже есть у Вас в планах, но мало-ли...
> ИМХО, было бы ОЧЕНЬ здорово, если на миникарте появилась бы рамочка,
> показывающая какой именно участок местности сейчас отображается.
    Ok. Пока не записывал, но хотел сделать.

-> Собственно новый autoorder хачу, что-то типа 
> @;!collect [item1], [item2], ...,[itemN]
> То есть сграбастать всё вещи указанных типов. 
    Попробую.

тулбар с приказами

> В Адвисоре была такая кнопочка, которая отсортировывала и оставляла видимыми
> только свои отряды. Ты такое планируешь?
    Не планировал, но в принципе можно сделать.

> Вот, что я придумал - выделяешь пару отрядов с контралом и они сливаются в
> один при нажатии нужной выпадающей менюшки, т.е. все от одного передается к
> другому (от большего в меньшему номеру) - очень удобно, когда соединяешь
> свои войска идущие с разных сторон.
    А что, в стандартном дереве уже можно выделять два пункта одновременно? ;-)
А вот собственно передачу попробую сделать. +Передачу только торговых товаров.

>   2. Что знать обокрали тебя или нет приходится каждый раз лезть в
>   реп, сделай какойнибудь значек, чтобы было видно на карте.
    Попробую.

> постройка дерева знаний и развешивания номеров юнитов (с возможно
> координатами нахождения или переходом на карте - поиск указаного
> номера), как в Клиенте Crystal Ball.

-?>   3. Сейчас места с чудиками отмечаются черепом. Но при этом не
>   понятно есть там чудики или нет. Предложение такое, сделай такойже
>   череп но с красными глазами если чудики есть, и оставь предний если
>   постройка пустая.
    Ок.

> Add Auto Order:
>   1. Добавить команду AutoBuy. Причем предусмотреть, покупать
>   постоянно или до некого предела. При 40 моих поинтах на такс, я еще
>   и рабочими пытаюсь заработать примерно в 80 регионах. Естественно не
>   везде они по максимуму собирают, и приходится каждый ход допокупать
>   народ. Можно конечно использовать @buy. Но в этом случае либо будет
>   покупаться не на все деньги, либо если цифру завысить тогда будет
>   куча ошибок. Да и потолок тядело контролировать.
    Ok.

>   1. Не мешало бы ввести несколько простиньких отчетов, естественно их
>   потом можно наворотить. Предлогаю следующие. Отчет по таксе. Внем
>   можно просто выводить где и какая фракция собирает налоги,
>   делательно еще указать сколько и из скольки она там собирает. Вещь
>   очень удобная особенно тем, кто постоянно переключает таксу в разных
>   регионах. Несколько моих знакомых, в том числе и я за частую
>   ошибаемся и это приводит к тому, что такса не собирается в какихто
>   крупных регионах. Тоже самое можно сделать по производству.


> 3. можно ли сделать следующее - при наведении на регион - в какой-нить
> строке состояний выводить общее количество всего, что у
> тебя есть в данном регионе (правда напрашивается и общий фильтр на всю
> фракцию - мол все что она имеет, но эт не так актуально). Лучше конечно, что
> б где нить - как в фильтрах иль в "листе продукции" можно было прописать иль
> выставить, что именно ты хочешь, что б там показывало-суммировало.
    Может быть добавлю в region info window.

> Первая: В Battle Simulator нет возможности записи хода битв в
> файл (например есть очень маленькая возможность поражения, но отследить ход неудачной
> битвы нереально. А так - запустил Analyze, чайку пошёл попить, вернулся - и нашёл в
> txt всё что надо).

>   Познее можно сделать финансовый отчет, где указать в каком регионе
>   сколько зарабатывается денег и какими способами и сколько тратится.
>   Так можно реально оценить свои доходы и расходы.
    Это будет очень нескоро.
>   Тоже самое можно сделать и по производству, чтобы видеть реаольный
>   прирост вооружения.

>   Далее можно сделать по солдатам, сколько на данный момент мы имеем
>   солдат разных типов и какого сколько вооружения. Такой отчет есть в
>   в КристалБале.

амулет неуязв

> Ну, и сортировка по фракциям тоже не 
> сильно помешает :)

??> И редактирование Receive вместо перехода по "order target".
> Иначе теряешь народ, если у раздающего еще человек сорок на попечении.
    Не совсем понял последнюю фразу, но идея, кажется, понятна.    

> Фокус в том, чтобы помещать информацию в буфер сразу в несеольких форматах

> Диалог "drop", где будет list-box со списком имеющихся предметов,
> можно будет выделить N из них - автоматом вставится N команд
> give 0 .... А то очень задалбывает после битв с монстрами
> выбрасывать всякие trade items, stone, ...
    Ok. Запишу в Todo.

> Если тебе интересно MHO, то панель управления я бы сделал так:
> [Region][Run all][Autoorders] [Find] _______ [ U<= ][ =>U ]
> [ T<= ][ =>T ] [Town][Prod][Weather][Wedges] [^|v]
> 
> [Region]     - запустить просчет событий для региона
> [Run all]    - запустить просчет событий для всей карты
> [Autoorders] - запустить просчет автоприказов
> 
> [Find] _______ - кнопка, связаннаая с полем ввода. поиск предмета вообще, в
>                  т.ч. по имени/части имени
> 
> [ U<= ][ =>U ] - перебор отрядов. По правой княпке - попап-окошко для ввода
>                  номера отряда (прямой переход).
>                  почему не в поиск? Хочу в этом же окошке видеть хар-ки
>                  отряда еще до перехода.
> 
> [ T<= ][ =>T ] - перебор ходов. По правой кнопке контекстная менюшка из
>                  пунктов:
> Last turn
> First turn        - только если включена паковка/используется сжатие.
> -                   переход на первый активный (непакованый) ход.
> Previous active turn
> Next active turn
> -
> Go to turn # ...
> 
> [Town]
> [Prod] - на этот счет у меня есть идейка... Надо немного порисовать, тогда разобъясню :)
> 
> [Weather] - погода на карте. Плотность штриховки в зависимости от близости
> ненастья.
> [Wedges]
> [^|v] - эти две кнопки бы сделать друг над другом... :)

убрать отключение при смене юнита -
отключение при работе +-

> Еще хотелка - Local events only
> Смысл - чтобы перед каждым выводом окно событий очищалось.
> Типа.. Выставить флаг "обновляемся", очистить окно, запустить расчет хода,
> сбросить флаг.
> Тогда можно будет следить за ситуацией в регионе более просто.
> Не будет накопления однообразной информации.
> А если нужна сводка ошибок - Run Orders для всей карты :)

> Хотелка более острая. В дереве региона хорошо бы сортировать народ по
> фракциям, непривязанный народ так и оставлять в самом регионе, а фракции
> выполнить отдельными подветвями. а то утомляет выискивать свиих рабочих среди
> чужих :)

> 1. поиск юнитов не только по номеру, но и по имени и части имени (по
> маске, где повторное нажатие этой же маски выдасть следующий
> подходящий юнит). Не плохо еще ввести поиск городов.

> 4. Добавить фильтр к дереву: -только отряды локальной фракции
>    -лидеры
>    -простые отряды
>    -on guard
>    и др. фильтры (может филтры по профессиям;)

> 4. Крайне удобны информационные таблицы. Добавить в меню analyze три
> опции: купля/продажа(город), производство, фракция.
>     4а)купляпродажа. Вывод таблица которая обновляется по нажатию
>     кнопки в таблице, кнопка смены режима (купля - продажа - город),
>     кнопкаа перехода к координате на карте.
>     таблица вида купля(продажа такая же):
>     город     |координаты|предмет1|предмет2|предмет3|и так все предметы
>     -------------------------------------------------------------------
>     название1 | (x,y)    | 119$   |  59$   |  нет   | цена или "нет"
>     название2 |  -"-     |   -"-  |   -"-  |   -"-  |  -"-
>     -------------------------------------------------------------------
>     мин. цена |          |  80$   |        |        |
>     -------------------------------------------------------------------
>     макс.цена |          |  135$  |        |        |
>     -------------------------------------------------------------------
>     средняя ц.|          |  107$  |        |        |
> 
>     Можно добавить сортировку строк (убывание возрастание по
>     определенному предмету), только чтобы последних 3 строк не
>     касалось. Столбцы (предметы) прописаны сразу, а строки (города)
>     добавляются при анализе. Новые города (узнанные после последнего
>     анализа) просто добавляются, уже добавленные, если есть
>     возможность обновляются (присутствуют отряды), но если обновления
>     нет остается старая информация. Можно добавить столбец с датой
>     последнего обновления.
>     режим города дает таблицу:
>     город|координаты|раса|население|tax|wage|entertainm.
>     4б)фракция. Вверху инфо как в local fractions, кроме events-battles
>     Ниже таблица вида(все юниты для своей фракции только, если
>     фракций локальных несколько необходим переключатель, так как все
>     вместе неудобно):
>     юнит(номер)|координаты|раса|кол-во|деньги|скилы|предметы|последняя
>                                                              полномесячная
>                                                              команда
>     Скилы, предметы лучше сделать ввиде ячейки-выпадающего списка
>     Несколько фильтров по скилам, можно и по остальным столбцам.
>     В обоих таблицах под городами подразумеваются все начиная с
>     деревни.

>  - AutoSell в autoorders
bug c удалением корабля -+
цвета для приказов -
excange -?
add new region info --
give +- сортировка, ручной ввод получателя.
окно со списком регионов --
проверка на обучаемость магии -?
функция на сколько хватит денег --
иконки в треевиве --
sail +-
receive +-
join unit --


commands:
address ?
advance ++
assassinate ++
attack ++
autotax ++
avoid ++
behind ++
build ++
buy ++
cast ++
claim ++
combat ++
consume ++
declare --
describe ++
destroy +-
enter -+ edit
entertain ++
faction --
find ?
forget ++
form ++
give ++
guard ++
hold ++
leave ++
move ++
name ++
noaid ++
option --
password --
pillage ++
produce ++
promote --
quit ?
restart ?
reveal ++
sail ++
sell ++
show --
steal ++
study ++
tax ++
teach ++
work ++
